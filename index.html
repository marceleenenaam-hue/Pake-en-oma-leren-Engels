<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pake Jan & Oma Inge op vakantie</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --sun: #FFD700;
            --sand: #F4E4C1;
            --ocean: #4A90E2;
            --coral: #FF6B6B;
            --palm: #2ECC71;
            --sunset: #FF8C42;
            --sky: #87CEEB;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #87CEEB, #E0F7FA);
            min-height: 100vh;
            padding: 20px 10px 40px;
            position: relative;
            overflow-x: hidden;
        }

        .header-photo {
            width: 100%;
            max-width: 420px;
            border-radius: 25px;
            margin: 0 auto 20px;
            display: block;
            box-shadow: 0 15px 40px rgba(0,0,0,0.25);
            border: 8px solid white;
            transform: rotate(-3deg);
            animation: float 6s ease-in-out infinite;
        }

        .cloud {
            position: absolute;
            font-size: 4rem;
            opacity: 0.15;
            pointer-events: none;
            animation: drift 25s linear infinite;
        }
        .cloud:nth-of-type(1) { top: 10%; left: -10%; animation-duration: 35s; }
        .cloud:nth-of-type(2) { top: 20%; right: -10%; animation-duration: 45s; font-size: 5rem; }

        .container {
            background: rgba(255, 255, 255, 0.97);
            padding: 40px 30px;
            border-radius: 30px;
            box-shadow: 
                0 25px 70px rgba(0,0,0,0.25),
                0 0 0 6px rgba(255, 215, 0, 0.4);
            max-width: 680px;
            width: 100%;
            margin: 20px auto;
            text-align: center;
            position: relative;
            backdrop-filter: blur(10px);
            border: 4px solid #FFF;
        }

        .container::before, .container::after {
            content: 'üå¥';
            position: absolute;
            font-size: 3.5em;
            top: -20px;
            opacity: 0.7;
        }
        .container::before { left: 20px; transform: rotate(-20deg); }
        .container::after { right: 20px; transform: rotate(20deg); }

        h1 {
            font-family: 'Fredoka One', cursive;
            font-size: 2.8em;
            background: linear-gradient(135deg, #FF8C42, #FF6B6B, #FFD700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 15px 0 10px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.15);
        }

        .subtitle {
            font-size: 1.4em;
            color: var(--ocean);
            font-weight: 600;
            margin: 10px 0 25px;
        }

        .emoji-big {
            font-size: 4.5em;
            margin: 20px 0;
            animation: float 4s ease-in-out infinite;
        }

        .big-button {
            background: linear-gradient(135deg, var(--coral), var(--sunset));
            color: white;
            border: none;
            padding: 18px 36px;
            margin: 12px 10px;
            border-radius: 50px;
            font-size: 1.35em;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
            transition: all 0.3s;
            min-width: 220px;
        }

        .big-button:hover {
            transform: translateY(-5px) scale(1.07);
            box-shadow: 0 15px 35px rgba(255, 107, 107, 0.5);
        }

        #mode-en-nl { background: linear-gradient(135deg, #4A90E2, #357ABD); }
        #mode-nl-en { background: linear-gradient(135deg, #2ECC71, #27AE60); }

        #word-display {
            font-family: 'Fredoka One', cursive;
            font-size: 3.4em;
            background: linear-gradient(135deg, #FF8C42, #FF6B6B);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 30px 0;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 0 10px;
        }

        .choices button {
            width: 100%;
            padding: 22px;
            margin: 12px 0;
            font-size: 1.3em;
            border-radius: 20px;
            border: 4px solid #4A90E2;
            background: white;
            color: #2c3e50;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
        }

        .choices button:hover {
            background: #E3F2FD;
            transform: translateY(-4px);
            border-color: var(--sunset);
            box-shadow: 0 12px 25px rgba(0,0,0,0.2);
        }

        .choices button.correct {
            background: linear-gradient(135deg, #2ECC71, #27AE60) !important;
            color: white;
            border-color: #27AE60;
            transform: scale(1.05);
        }

        .choices button.incorrect {
            background: linear-gradient(135deg, #f44336, #d32f2f) !important;
            color: white;
            transform: scale(0.97);
        }

        #progress-bar {
            height: 28px;
            background: rgba(255,255,255,0.9);
            border-radius: 20px;
            overflow: hidden;
            margin: 25px 0;
            border: 3px solid #FFD700;
        }

        #progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #2ECC71, #FFD700, #FF8C42);
            transition: width 0.7s ease;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.7);
        }

        .word-count-badge {
            background: linear-gradient(135deg, #2ECC71, #27AE60);
            color: white;
            padding: 12px 24px;
            border-radius: 30px;
            font-weight: bold;
            display: inline-block;
            margin: 15px 0;
            font-size: 1.2em;
            box-shadow: 0 6px 20px rgba(46, 204, 113, 0.4);
        }

        #words-input {
            padding: 10px 14px;
            font-size: 1.1em;
            border-radius: 12px;
            border: 2px solid #4A90E2;
            width: 120px;
            text-align: center;
            margin-bottom: 10px;
        }

        .score-text {
            font-size: 1.3em;
            margin: 20px 0;
            color: #34495e;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(-3deg); }
            50% { transform: translateY(-15px) rotate(3deg); }
        }

        @keyframes drift {
            0% { transform: translateX(-100px); }
            100% { transform: translateX(calc(100vw + 100px)); }
        }

        @media (max-width: 768px) {
            .header-photo { 
                max-width: 300px; 
                border-width: 6px;
                transform: rotate(-4deg);
            }
            h1 { font-size: 2.2em; }
            .subtitle { font-size: 1.2em; }
            .emoji-big { font-size: 3.5em; }
            .big-button { 
                padding: 16px 28px; 
                font-size: 1.2em;
                min-width: auto;
                width: calc(50% - 20px);
                margin: 8px 10px;
            }
            #word-display { font-size: 2.4em; }
            .choices button { 
                padding: 18px; 
                font-size: 1.15em; 
            }
        }

        @media (max-width: 480px) {
            .container { padding: 30px 20px; border-radius: 25px; }
            .big-button { width: 100%; margin: 10px 0; }
            .header-photo { max-width: 260px; }
            #word-display { font-size: 2em; }
        }
    </style>
</head>
<body>

    <div class="cloud">‚òÅÔ∏è</div>
    <div class="cloud">‚òÅÔ∏è</div>

    <img src="https://raw.githubusercontent.com/marceleenenaam-hue/Pake-en-oma-leren-Engels/main/images/pake-inge-vakantie.jpg" 
         alt="Pake Jan & Oma Inge op vakantie" class="header-photo">

    <!-- SETUP SCHERM -->
    <div id="setup-screen" class="container">
        <h1>Pake Jan & Oma Inge<br>op vakantie!</h1>
        <div class="emoji-big">‚úàÔ∏èüå¥‚òÄÔ∏èüèñÔ∏è</div>
        <p class="subtitle">Leren Engels was nog nooit zo leuk!</p>

        <p style="font-size:1.3em; margin:20px 0 10px;">Welke kant wil je oefenen?</p>
        <div style="display:flex; flex-wrap:wrap; justify-content:center;">
            <button class="big-button" id="mode-en-nl">Engels ‚ûú Nederlands</button>
            <button class="big-button" id="mode-nl-en">Nederlands ‚ûú Engels</button>
        </div>

        <p style="font-size:1.3em; margin:25px 0 10px;">Hoeveel woorden wil je oefenen?</p>
        <input type="number" id="words-input" min="0" placeholder="20" value="20">
        
        <div class="word-count-badge">
            üìö Totaal: <span id="total-words">0</span> vakantiewoorden!
        </div>
        
        <p style="margin:15px 0; color:#555;">Laat leeg of vul 0 in voor <strong>alle</strong> woorden!</p>
        
        <button class="big-button" id="start-button" style="background:linear-gradient(135deg,#FFD700,#FF8C42); font-size:1.5em; padding:20px 40px;">
            Start de vakantiequiz! üéâ
        </button>
    </div>

    <!-- QUIZ SCHERM -->
    <div id="quiz-screen" class="container" style="display:none;">
        <h1>Vakantiequiz</h1>
        <p class="subtitle" id="mode-label">Engels ‚ûú Nederlands</p>

        <div id="progress-bar">
            <div id="progress-fill"></div>
        </div>

        <div id="word-display">Woord</div>

        <div class="choices" id="choices-container">
            <!-- Knoppen via JS -->
        </div>

        <p class="score-text">
            Vraag <span id="current-number">0</span> van <span id="total-number">0</span> ‚Ä¢
            Goed: <span id="correct-count">0</span>
        </p>
    </div>

    <!-- EINDSCHERM -->
    <div id="end-screen" class="container" style="display:none;">
        <h1>Goed gedaan! üéâ</h1>
        <div class="emoji-big">üèÜüåû</div>
        <p class="score-text" id="final-score-text"></p>
        <p style="margin:15px 0; color:#555;" id="extra-text"></p>

        <button class="big-button" id="again-button" style="background:linear-gradient(135deg,#4A90E2,#357ABD);">
            Nog een keer spelen!
        </button>
        <button class="big-button" id="back-button" style="background:linear-gradient(135deg,#2ECC71,#27AE60);">
            Terug naar begin
        </button>
    </div>

    <script>
        // ========== WOORDENLIJST ==========
        // Je kunt deze lijst later uitbreiden; alles werkt automatisch door.
        const words = [
            { en: "airport", nl: "luchthaven" },
            { en: "suitcase", nl: "koffer" },
            { en: "passport", nl: "paspoort" },
            { en: "ticket", nl: "ticket" },
            { en: "plane", nl: "vliegtuig" },
            { en: "train", nl: "trein" },
            { en: "bus", nl: "bus" },
            { en: "hotel", nl: "hotel" },
            { en: "apartment", nl: "appartement" },
            { en: "reservation", nl: "reservering" },
            { en: "key", nl: "sleutel" },
            { en: "reception", nl: "receptie" },
            { en: "beach", nl: "strand" },
            { en: "sea", nl: "zee" },
            { en: "ocean", nl: "oceaan" },
            { en: "sun", nl: "zon" },
            { en: "swimming pool", nl: "zwembad" },
            { en: "towel", nl: "handdoek" },
            { en: "sunscreen", nl: "zonnebrandcr√®me" },
            { en: "sunglasses", nl: "zonnebril" },
            { en: "hat", nl: "hoed" },
            { en: "flip-flops", nl: "slippers" },
            { en: "map", nl: "kaart" },
            { en: "direction", nl: "richting" },
            { en: "restaurant", nl: "restaurant" },
            { en: "menu", nl: "menu" },
            { en: "breakfast", nl: "ontbijt" },
            { en: "lunch", nl: "lunch" },
            { en: "dinner", nl: "avondeten" },
            { en: "water", nl: "water" },
            { en: "juice", nl: "sap" },
            { en: "ice cream", nl: "ijsje" },
            { en: "bill", nl: "rekening" },
            { en: "toilet", nl: "toilet" },
            { en: "left", nl: "links" },
            { en: "right", nl: "rechts" },
            { en: "straight ahead", nl: "rechtdoor" },
            { en: "bank", nl: "bank" },
            { en: "money", nl: "geld" },
            { en: "market", nl: "markt" },
            { en: "shop", nl: "winkel" },
            { en: "pharmacy", nl: "apotheek" },
            { en: "doctor", nl: "dokter" },
            { en: "emergency", nl: "noodgeval" },
            { en: "police", nl: "politie" },
            { en: "exit", nl: "uitgang" },
            { en: "entrance", nl: "ingang" },
            { en: "tourist information", nl: "toeristeninformatie" },
            { en: "ticket office", nl: "loket" },
            { en: "platform", nl: "perron" },
            { en: "delay", nl: "vertraging" },
            { en: "luggage", nl: "bagage" },
            { en: "hand luggage", nl: "handbagage" },
            { en: "backpack", nl: "rugzak" },
            { en: "camera", nl: "camera" },
            { en: "photo", nl: "foto" },
            { en: "postcard", nl: "ansichtkaart" },
            { en: "stamp", nl: "postzegel" },
            { en: "travel insurance", nl: "reisverzekering" },
            { en: "beach chair", nl: "strandstoel" },
            { en: "umbrella", nl: "paraplu" },
            { en: "rain", nl: "regen" },
            { en: "wind", nl: "wind" },
            { en: "cloud", nl: "wolk" }
        ];

        // ========== ELEMENTEN ==========
        const setupScreen = document.getElementById('setup-screen');
        const quizScreen  = document.getElementById('quiz-screen');
        const endScreen   = document.getElementById('end-screen');

        const modeEnNlBtn = document.getElementById('mode-en-nl');
        const modeNlEnBtn = document.getElementById('mode-nl-en');
        const startButton = document.getElementById('start-button');
        const wordsInput  = document.getElementById('words-input');
        const totalWordsSpan = document.getElementById('total-words');

        const modeLabel   = document.getElementById('mode-label');
        const wordDisplay = document.getElementById('word-display');
        const choicesContainer = document.getElementById('choices-container');
        const progressFill = document.getElementById('progress-fill');
        const currentNumberSpan = document.getElementById('current-number');
        const totalNumberSpan   = document.getElementById('total-number');
        const correctCountSpan  = document.getElementById('correct-count');

        const finalScoreText = document.getElementById('final-score-text');
        const extraText      = document.getElementById('extra-text');
        const againButton    = document.getElementById('again-button');
        const backButton     = document.getElementById('back-button');

        totalWordsSpan.textContent = words.length;

        // ========== STATE ==========
        let mode = 'en-nl';
        let quizWords = [];
        let currentIndex = 0;
        let correctCount = 0;
        let answered = false;

        // ========== HULPFUNCTIES ==========
        function shuffle(array) {
            const arr = array.slice();
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr;
        }

        function startConfetti() {
            if (typeof confetti !== 'function') return;
            confetti({
                particleCount: 120,
                spread: 70,
                origin: { y: 0.6 }
            });
        }

        function createQuestion() {
            answered = false;
            const item = quizWords[currentIndex];

            const questionWord = mode === 'en-nl' ? item.en : item.nl;
            const correctAnswer = mode === 'en-nl' ? item.nl : item.en;

            wordDisplay.textContent = questionWord;

            // 3 willekeurige andere antwoorden (zelfde taal als correctAnswer)
            let others = shuffle(
                words.filter(w => w !== item)
            ).slice(0, 3);

            const otherAnswers = others.map(o => mode === 'en-nl' ? o.nl : o.en);

            const options = shuffle([correctAnswer, ...otherAnswers]);

            choicesContainer.innerHTML = '';
            options.forEach(text => {
                const btn = document.createElement('button');
                btn.textContent = text;
                btn.addEventListener('click', () => handleChoice(btn, text === correctAnswer));
                choicesContainer.appendChild(btn);
            });

            currentNumberSpan.textContent = currentIndex + 1;
            totalNumberSpan.textContent   = quizWords.length;
            correctCountSpan.textContent  = correctCount;

            const progress = (currentIndex / quizWords.length) * 100;
            progressFill.style.width = progress + '%';
        }

        function handleChoice(button, isCorrect) {
            if (answered) return;
            answered = true;

            const item = quizWords[currentIndex];
            const correctAnswer = mode === 'en-nl' ? item.nl : item.en;

            if (isCorrect) {
                correctCount++;
                button.classList.add('correct');
                startConfetti();
            } else {
                button.classList.add('incorrect');
                // markeer correcte knop
                [...choicesContainer.children].forEach(b => {
                    if (b.textContent === correctAnswer) {
                        b.classList.add('correct');
                    }
                });
            }

            correctCountSpan.textContent = correctCount;

            setTimeout(() => {
                currentIndex++;
                if (currentIndex >= quizWords.length) {
                    finishQuiz();
                } else {
                    createQuestion();
                }
            }, 900);
        }

        function finishQuiz() {
            quizScreen.style.display = 'none';
            endScreen.style.display = 'block';

            const total = quizWords.length;
            const scorePercent = Math.round((correctCount / total) * 100);

            finalScoreText.textContent = `Je had ${correctCount} van de ${total} goed (${scorePercent}%).`;

            let message;
            if (scorePercent === 100) {
                message = "Fantastisch, jullie zijn echte vakantie‚Äëtoppers! üåü";
            } else if (scorePercent >= 80) {
                message = "Heel goed gedaan, klaar voor de reis! ‚úàÔ∏è";
            } else if (scorePercent >= 50) {
                message = "Mooi begin, nog een rondje en jullie zijn er helemaal klaar voor! üòÑ";
            } else {
                message = "Iedere reis begint met de eerste stap. Nog een keertje proberen? üö∂‚Äç‚ôÇÔ∏èüö∂‚Äç‚ôÄÔ∏è";
            }
            extraText.textContent = message;

            startConfetti();
        }

        function resetQuizState() {
            quizWords = [];
            currentIndex = 0;
            correctCount = 0;
            progressFill.style.width = '0%';
        }

        // ========== EVENT LISTENERS ==========
        modeEnNlBtn.addEventListener('click', () => {
            mode = 'en-nl';
            modeEnNlBtn.style.opacity = '1';
            modeNlEnBtn.style.opacity = '0.7';
        });

        modeNlEnBtn.addEventListener('click', () => {
            mode = 'nl-en';
            modeNlEnBtn.style.opacity = '1';
            modeEnNlBtn.style.opacity = '0.7';
        });

        startButton.addEventListener('click', () => {
            resetQuizState();

            let count = parseInt(wordsInput.value, 10);
            if (isNaN(count) || count <= 0 || count > words.length) {
                count = words.length;
            }

            quizWords = shuffle(words).slice(0, count);

            modeLabel.textContent = mode === 'en-nl'
                ? 'Engels ‚ûú Nederlands'
                : 'Nederlands ‚ûú Engels';

            setupScreen.style.display = 'none';
            endScreen.style.display   = 'none';
            quizScreen.style.display  = 'block';

            createQuestion();
        });

        againButton.addEventListener('click', () => {
            // Zelfde woorden & mode nog een keer
            currentIndex = 0;
            correctCount = 0;
            progressFill.style.width = '0%';
            correctCountSpan.textContent = '0';
            quizScreen.style.display = 'block';
            endScreen.style.display  = 'none';
            createQuestion();
        });

        backButton.addEventListener('click', () => {
            endScreen.style.display  = 'none';
            quizScreen.style.display = 'none';
            setupScreen.style.display = 'block';
        });
    </script>
</body>
</html>
